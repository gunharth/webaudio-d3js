<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Audio-Fun</title>
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet">
</head>

<body>
    <div class="grid-container-sources">
        <div class="col-header-4">
            <h2>1. Load a source</h2>
        </div>

        <div>
            <button class="recordButton" onclick="importAudio('piano','audio/piano.wav');">Play the piano</button>
        </div>
        <div>
            <button class="recordButton" onclick="importAudio('guni','audio/guni.ogg');">Ajax guni</button>
        </div>
        <div>
            <button class="recordButton" id="microphone-button" onclick="recordFromMicrophone();">
                <span class="start">Record with microphone</span>
                <span class="mic-enable" style="display:none;">please enable microphone</span>
                <span class="stop" style="display:none;">(<span class="time"></span>) stop recording</span>
            </button>
        </div>
        <div>
            <div style="cursor:pointer; position:relative; overflow:hidden; display:inline-block; vertical-align:top;">
                <button class="recordButton">upload audio</button>
                <input accept="audio/*,video/*" onchange="loadAudioFile(this.files[0]);" style="cursor:pointer; z-index:5; position:absolute; top:0; left:0; bottom:0; right:0; opacity:0;" type="file">
            </div>
        </div>

        <div id="recording-piano"></div>
        <div id="recording-guni"></div>
        <div id="recording-mic"></div>
        <div id="recording-upload"></div>
    </div>

    <div class="grid-container">
        <div class="col-header-5">
            <h2>2. Transform</h2>
        </div>

        <div><button class="transformButton" onclick="loadTransform(event, 'reverb')">Reverb</button></div>
        <div><button class="transformButton" onclick="loadTransform(event, 'wah', 1.9)">Wah</button></div>
        <div><button class="transformButton" onclick="loadTransform(event, 'speed', 1/2)">Slow</button></div>
        <div><button class="transformButton" onclick="loadTransform(event, 'pitch', 4)">Pitch</button></div>
        <div><button class="transformButton" onclick="loadTransform(event, 'scary')">Scary</button></div>

        <div id="reverb"></div>
        <div id="wah"></div>
        <div id="speed"></div>
        <div id="pitch"></div>
        <div id="scary"></div>

    </div>

    <div class="col-header-5">
        <h2>3. Visualise <label class="switch">
            <input id="visibilityCheckbox" type="checkbox">
            <span class="slider round"></span>
        </label></h2>
    </div>

    <div id="svg-parent" style="width: 100%;">
        <svg id="svg">
            <g class="frequency"></g>
            <!-- <line x1="0" y1="0" x2="300" y2="0" stroke="gray" stroke-width="5" /> -->
            <g class="waveform"><path></path></g>
        </svg>
    </div>

    <div id="freq" style="width: 100%; display: none;"></div>
    <div id="waveform" style="width: 100%; display: none;">
        <svg id="wave"><path></path></svg>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js"></script>

    <script src="js/audio/helpers.js"></script>
    <script src="js/audio/doWorkerTask.js"></script>
    <script src="js/audio/jungle.js"></script> <!-- pitch modulator lib -->
    <script src="js/audio/scary.js"></script>
    <script src="js/audio/speed.js"></script>
    <script src="js/audio/pitch.js"></script>
    <script src="js/audio/wah.js"></script>
    <script src="js/audio/reverb.js"></script>
    <script src="js/app.js"></script>
</body>

</html>
